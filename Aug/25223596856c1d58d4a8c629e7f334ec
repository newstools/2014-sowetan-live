Brazilian authorities negotiated Monday with prison inmates holding two guards hostage after an uprising in which they killed four fellow prisoners, beheading two of them. The prison in the southern city of Cascavel remained 60 percent under the control of the prisoners but police had regained control of the rest, officials said. The riot erupted Sunday as breakfast was being delivered to during breakfast delivery with inmates overpowering guards. Two inmates were beheaded in the first surge of violence, and two others were thrown off the top of the cellblocks. The guards were taken hostage in the mele, Miguel Llanela, a civilian police agent assigned to the prison, told AFP. An official with the guards' union said only 10 guards were on duty at the time. "Negotiations resumed this morning" Elson Faxina, a state judicial spokesman, told AFP. "Agreements are advancing and we hope that during the day the issue is resolved," he said. Prison authorities said the inmates were demanding better facilities and greater flexibility in visiting hours and deliveries of food. But the inmate-on-inmate violence also suggested that rivalries between competing prison gangs were a factor in the uprising. "The fact that prisoners took hostages would reinforce that view," Faxina said Sunday. There were no numbers on how many inmates were involved in the uprising, but local media said around 77 prisoners were transferred because they were threatened by the rioters. The state correctional center, which houses 1,140 inmates, has a capacity of 1,181 prisoners according to official data. Anthony Johnson, president of the prison guard union in Parana state said the "capacity was expanded only on paper, because originally it was meant for only 900 prisoners, so there's overcrowding." "For us, the situation is tense now, but we hope it is resolved. Such a jail needs investment," he said. According to the union of prison workers, a major lack of investment plagues the system, and the facility was threatened by a scarcity of operational and technical professionals as well as proper maintenance. "Many times the workers have to invest their money to buy the necessary items to do their jobs," the union said in a statement. "Without investment, we are always exposed to this. The prisoners claim that food is bad, that there are no lawyers to process things, minimal hygiene products don't exist, there are few correctional officers. All the factors together are a tragedy waiting to happen," it said. Brazil holds 548,000 inmates in its prisons, but needs 207,000 more spaces to avoid overcrowding, according to the NGO Conectas Human Rights.